{"version":3,"sources":["webpack://k6-performance-ts/webpack/bootstrap","webpack://k6-performance-ts/webpack/runtime/compat get default export","webpack://k6-performance-ts/webpack/runtime/define property getters","webpack://k6-performance-ts/webpack/runtime/hasOwnProperty shorthand","webpack://k6-performance-ts/webpack/runtime/make namespace object","webpack://k6-performance-ts/external \"k6/http\"","webpack://k6-performance-ts/external \"k6\"","webpack://k6-performance-ts/./tools/auth.ts","webpack://k6-performance-ts/./tools/endpoints.ts","webpack://k6-performance-ts/./tests/performance.test.ts"],"names":["baseUrl","__ENV","TOKEN_URL","tokenEndpoint","GET_TOKEN_URL","username","USERNAME","password","PASSWORD","scope","SCOPE","clientId","CLIENT_ID","requestURL","concat","getApiToken","loginResponse","http","responseObj","json","token","access_token","Auth","Authorization","console","log","QA_SERVER","User","currentId","setup","auth","options","vus","duration","data","endpointCall","res","headers","check","StatusWas200","status","resHasCorrectData","_res$json","toString","length","sleep"],"mappings":";;UAAA;UACA;;;;;WCDA;WACA;WACA;WACA;WACA;WACA,gCAAgC,YAAY;WAC5C;WACA,E;;;;;WCPA;WACA;WACA;WACA;WACA,wCAAwC,yCAAyC;WACjF;WACA;WACA,E;;;;;WCPA,wF;;;;;WCAA;WACA;WACA;WACA,sDAAsD,kBAAkB;WACxE;WACA,+CAA+C,cAAc;WAC7D,E;;;;;;;;;;;;;;;;ACNA,MAAM,oBAA4B,uB;;;ACAlC,MAAM,2BAA4B,kB;;ACAP;AAG3B;AACA,IAAMA,OAAO,GAAGC,KAAK,CAACC,SAAS;AAC/B,IAAMC,aAAa,GAAGF,KAAK,CAACG,aAAa;AACzC,IAAMC,QAAQ,GAAGJ,KAAK,CAACK,QAAQ;AAC/B,IAAMC,aAAQ,GAAGN,KAAK,CAACO,QAAQ;AAC/B,IAAMC,KAAK,GAAGR,KAAK,CAACS,KAAK;AACzB,IAAMC,QAAQ,GAAGV,KAAK,CAACW,SAAS;AAChC,IAAMC,UAAU,MAAAC,MAAA,CAAMd,OAAO,EAAAc,MAAA,CAAGX,aAAa,gBAAAW,MAAA,CAAaT,QAAQ,gBAAAS,MAAA,CAAaP,aAAQ,iCAAAO,MAAA,CAA8BL,KAAK,iBAAAK,MAAA,CAAcH,QAAQ,yBAAsB;AAMtK;AACO,SAASI,WAAWA,CAAA,EAAG;EAC7B,IAAMC,aAAa,GAAGC,mBAAS,CAACJ,UAAU,EAAE;IAAE,cAAc,EAAE;EAAwB,CAAC,CAAC;EACxF,IAAMK,WAAW,GAAGF,aAAa,CAACG,IAAI,CAAC,CAAwB;EAC/D,IAAMC,KAAK,GAAGF,WAAW,CAACG,YAAY;EACtC,IAAMC,IAAU,GAAG;IAClB,cAAc,EAAE,kBAAkB;IAClCC,aAAa,YAAAT,MAAA,CAAYM,KAAK;EAC/B,CAAC;EACDI,OAAO,CAACC,GAAG,CAAC,+BAA+B,CAAC;EAC5C,OAAOH,IAAI;AACZ,C;;AC3BA;AACO,IAAMI,SAAS,GAAGzB,KAAK,CAACyB,SAAS;;AAExC;AACO,IAAMC,IAAI,GAAG;EACnBC,SAAS,EAAE;AACZ,CAAC,C;;ACN0B;AACO;AAEqB;AACF;;AAErD;AACO,SAASC,KAAKA,CAAA,EAAG;EACvBL,OAAO,CAACC,GAAG,CAAC,iCAAiC,CAAC;EAC9C,IAAMK,IAAI,GAAGf,WAAW,CAAC,CAAC;EAC1B,OAAOe,IAAI;AACZ;;AAEA;AACO,IAAMC,OAAgB,GAAG;EAC/B;EACAC,GAAG,EAAE,EAAE;EACPC,QAAQ,EAAE;AACX,CAAC;;AAED;AACA,6BAAe,SAAS,iBAACC,IAAU,EAAE;EACpC,IAAMC,YAAY,GAAGT,SAAS,GAAGC,cAAc;EAC/C,IAAMS,GAAG,GAAGnB,kBAAQ,CAACkB,YAAY,EAAE;IAAEE,OAAO,EAAEH;EAAK,CAAC,CAAC;EAErDI,qCAAK,CAACF,GAAG,EAAE;IACV,kBAAkB,EAAE,SAAAG,aAAAH,GAAG;MAAA,OAAIA,GAAG,CAACI,MAAM,IAAI,GAAG;IAAA;IAC5C,wBAAwB,EAAE,SAAAC,kBAAAL,GAAG;MAAA,IAAAM,SAAA;MAAA,OAAI,EAAAA,SAAA,GAAAN,GAAG,CAACjB,IAAI,CAAC,CAAC,cAAAuB,SAAA,uBAAVA,SAAA,CAAYC,QAAQ,CAAC,CAAC,CAACC,MAAM,MAAK,CAAC;IAAA;EACrE,CAAC,CAAC;EACFpB,OAAO,CAACC,GAAG,CAAC,0BAA0B,EAAEW,GAAG,CAACjB,IAAI,CAAC,CAAC,CAAC;EACnD0B,qCAAK,CAAC,CAAC,CAAC;AACT,C","file":"performance.test.js","sourcesContent":["// The require scope\nvar __webpack_require__ = {};\n\n","// getDefaultExport function for compatibility with non-harmony modules\n__webpack_require__.n = (module) => {\n\tvar getter = module && module.__esModule ?\n\t\t() => (module['default']) :\n\t\t() => (module);\n\t__webpack_require__.d(getter, { a: getter });\n\treturn getter;\n};","// define getter functions for harmony exports\n__webpack_require__.d = (exports, definition) => {\n\tfor(var key in definition) {\n\t\tif(__webpack_require__.o(definition, key) && !__webpack_require__.o(exports, key)) {\n\t\t\tObject.defineProperty(exports, key, { enumerable: true, get: definition[key] });\n\t\t}\n\t}\n};","__webpack_require__.o = (obj, prop) => (Object.prototype.hasOwnProperty.call(obj, prop))","// define __esModule on exports\n__webpack_require__.r = (exports) => {\n\tif(typeof Symbol !== 'undefined' && Symbol.toStringTag) {\n\t\tObject.defineProperty(exports, Symbol.toStringTag, { value: 'Module' });\n\t}\n\tObject.defineProperty(exports, '__esModule', { value: true });\n};","const __WEBPACK_NAMESPACE_OBJECT__ = require(\"k6/http\");;","const __WEBPACK_NAMESPACE_OBJECT__ = require(\"k6\");;","import http from 'k6/http';\r\nimport { AccessTokenResponse } from './typeAuth';\r\n\r\n//* Required Variables processed from .env file:\r\nconst baseUrl = __ENV.TOKEN_URL;\r\nconst tokenEndpoint = __ENV.GET_TOKEN_URL;\r\nconst username = __ENV.USERNAME;\r\nconst password = __ENV.PASSWORD;\r\nconst scope = __ENV.SCOPE;\r\nconst clientId = __ENV.CLIENT_ID;\r\nconst requestURL = `${baseUrl}${tokenEndpoint}?username=${username}&password=${password}&grant_type=password&scope=${scope}&client_id=${clientId}&response_type=token`;\r\nexport type auth = {\r\n\t'Content-Type': string;\r\n\tAuthorization: string;\r\n};\r\n\r\n//* Use this function to get the token for the API calls\r\nexport function getApiToken() {\r\n\tconst loginResponse = http.post(requestURL, { 'Content-Type': 'x-www-form-urlencoded' });\r\n\tconst responseObj = loginResponse.json() as AccessTokenResponse;\r\n\tconst token = responseObj.access_token;\r\n\tconst Auth: auth = {\r\n\t\t'Content-Type': 'application/json',\r\n\t\tAuthorization: `Bearer ${token}`,\r\n\t};\r\n\tconsole.log('---- Auth Login Successful! âœ…');\r\n\treturn Auth;\r\n}\r\n","//* List of Servers URL:\r\nexport const QA_SERVER = __ENV.QA_SERVER;\r\n\r\n//* List of Endpoints by service:\r\nexport const User = {\r\n\tcurrentId: '/User/currentId',\r\n};\r\n","import http from 'k6/http';\r\nimport { sleep, check } from 'k6';\r\nimport { Options } from 'k6/options';\r\nimport { getApiToken, type auth } from '../tools/auth';\r\nimport { User, QA_SERVER } from '../tools/endpoints';\r\n\r\n//* Preconditions\r\nexport function setup() {\r\n\tconsole.log('ðŸ§ªStarting Performance Tests...');\r\n\tconst auth = getApiToken();\r\n\treturn auth;\r\n}\r\n\r\n//* Test Config\r\nexport const options: Options = {\r\n\t// will perform 1 user per 1 second\r\n\tvus: 10,\r\n\tduration: '10s',\r\n};\r\n\r\n//* Performance Test:\r\nexport default function (data: auth) {\r\n\tconst endpointCall = QA_SERVER + User.currentId;\r\n\tconst res = http.get(endpointCall, { headers: data });\r\n\r\n\tcheck(res, {\r\n\t\t'âœ… Status was 200': res => res.status == 200,\r\n\t\t'âœ… res has correct Data': res => res.json()?.toString().length !== 0,\r\n\t});\r\n\tconsole.log('âœ… Response Body Defined:', res.json());\r\n\tsleep(1);\r\n}\r\n"],"sourceRoot":""}